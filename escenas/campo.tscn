[gd_scene load_steps=9 format=3 uid="uid://uxr8p3y8ti6o"]

[ext_resource type="Script" uid="uid://besf60xs5half" path="res://scripts/base.gd" id="1_n2qr4"]
[ext_resource type="Script" uid="uid://doo8r8tx4rx6a" path="res://scripts/campo.gd" id="1_ql25n"]
[ext_resource type="PackedScene" uid="uid://80esrcttskp6" path="res://escenas/objetivo.tscn" id="1_r8fre"]
[ext_resource type="PackedScene" uid="uid://cmvvtbopvhfhl" path="res://escenas/robot.tscn" id="2_n5ddh"]
[ext_resource type="PackedScene" uid="uid://d1nev45ei7hn2" path="res://escenas/dummy.tscn" id="5_n2qr4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2nssx"]
size = Vector2(104, 643.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r8fre"]
size = Vector2(23.25, 647)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n5ddh"]
size = Vector2(1153, 20)

[node name="campo" type="Node2D"]
script = ExtResource("1_ql25n")

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 1149.0
offset_bottom = 649.0
color = Color(0.25100732, 0.49584776, 1.92523e-07, 1)

[node name="base1" type="Area2D" parent="."]
position = Vector2(50, 320)
script = ExtResource("1_n2qr4")

[node name="ColorRect2" type="ColorRect" parent="base1"]
offset_left = -51.0
offset_top = -319.0
offset_right = 53.0
offset_bottom = 327.0
color = Color(0.96862745, 0.07450981, 0, 0.6784314)
metadata/_edit_use_anchors_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="base1"]
position = Vector2(2, 3)
shape = SubResource("RectangleShape2D_2nssx")

[node name="base2" type="Area2D" parent="."]
position = Vector2(1094, 323)
script = ExtResource("1_n2qr4")

[node name="ColorRect3" type="ColorRect" parent="base2"]
offset_left = -50.0
offset_top = -322.0
offset_right = 54.0
offset_bottom = 324.0
color = Color(0.15442017, 0.49601966, 0.99999994, 0.6784314)
metadata/_edit_use_anchors_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="base2"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_2nssx")

[node name="walls" type="StaticBody2D" parent="."]

[node name="CollisionShape2D3" type="CollisionShape2D" parent="walls"]
position = Vector2(-12.375, 323.5)
shape = SubResource("RectangleShape2D_r8fre")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="walls"]
position = Vector2(1161, 323)
shape = SubResource("RectangleShape2D_r8fre")

[node name="CollisionShape2D" type="CollisionShape2D" parent="walls"]
position = Vector2(573.75, -12)
shape = SubResource("RectangleShape2D_n5ddh")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="walls"]
position = Vector2(574.5, 655)
shape = SubResource("RectangleShape2D_n5ddh")

[node name="Objetivo" parent="." instance=ExtResource("1_r8fre")]
position = Vector2(570, 321)

[node name="robot" parent="." node_paths=PackedStringArray("objective", "myBase", "base_red", "base_blue") instance=ExtResource("2_n5ddh")]
position = Vector2(52, 335)
objective = NodePath("../Objetivo")
myBase = NodePath("../base1")
base_red = NodePath("../base1")
base_blue = NodePath("../base2")

[node name="robot2" parent="." node_paths=PackedStringArray("objective", "myBase", "base_red", "base_blue") instance=ExtResource("2_n5ddh")]
position = Vector2(50, 132)
objective = NodePath("../Objetivo")
myBase = NodePath("../base1")
base_red = NodePath("../base1")
base_blue = NodePath("../base2")

[node name="robot3" parent="." node_paths=PackedStringArray("objective", "myBase", "base_red", "base_blue") instance=ExtResource("2_n5ddh")]
position = Vector2(41, 504)
objective = NodePath("../Objetivo")
myBase = NodePath("../base1")
base_red = NodePath("../base1")
base_blue = NodePath("../base2")

[node name="Timer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="Dummy" parent="." node_paths=PackedStringArray("rival_robot", "objective", "myBase", "base_red", "base_blue") instance=ExtResource("5_n2qr4")]
position = Vector2(1097, 156)
behavior = 0
speed = 90.0
rival_robot = NodePath("../robot")
objective = NodePath("../Objetivo")
myBase = NodePath("../base2")
base_red = NodePath("../base1")
base_blue = NodePath("../base2")

[node name="Dummy2" parent="." node_paths=PackedStringArray("rival_robot", "objective", "myBase", "base_red", "base_blue") instance=ExtResource("5_n2qr4")]
position = Vector2(1084, 480)
behavior = 0
speed = 90.0
rival_robot = NodePath("../robot")
objective = NodePath("../Objetivo")
myBase = NodePath("../base2")
base_red = NodePath("../base1")
base_blue = NodePath("../base2")

[connection signal="body_entered" from="base1" to="base1" method="_on_body_entered"]
[connection signal="body_exited" from="base1" to="base1" method="_on_body_exited"]
[connection signal="body_entered" from="base2" to="base2" method="_on_body_entered"]
[connection signal="body_exited" from="base2" to="base2" method="_on_body_exited"]
[connection signal="sig_end_epi" from="robot" to="." method="_on_robot_sig_end_epi"]
[connection signal="sig_game_over" from="robot" to="." method="_on_robot_sig_game_over"]
[connection signal="sig_end_epi" from="robot2" to="." method="_on_robot_sig_end_epi"]
[connection signal="sig_game_over" from="robot2" to="." method="_on_robot_sig_game_over"]
[connection signal="sig_end_epi" from="robot3" to="." method="_on_robot_sig_end_epi"]
[connection signal="sig_game_over" from="robot3" to="." method="_on_robot_sig_game_over"]
[connection signal="sig_game_over" from="Dummy" to="." method="_on_dummy_sig_game_over"]
[connection signal="sig_game_over" from="Dummy2" to="." method="_on_dummy_sig_game_over"]
